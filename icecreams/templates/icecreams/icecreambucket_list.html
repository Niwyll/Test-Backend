{% extends "icecreams/base.html" %}
{% load static %}

{% block links %}
    <link rel="stylesheet" href="{% static "icecreams/css/icecreambucket_list.css" %}" />
{% endblock %}

{% block main %}
    <h1 class="h1 m-3">Your buckets ({{icecreambucket_list|length}})</h1>
    <div class="d-flex justify-content-evenly">
    {% for bucket in icecreambucket_list %}
    <div class="d-flex flex-column align-items-center text-center">
        <div class="bucket-container position-relative">
            <img class="img d-block" src={{bucket.ice_cream.image_path}} width="100" height="100"/>
            <div class="position-absolute top-0 start-0" style="width: 100px; height: calc(100px - {{bucket.rounded_percent_ratio}}px); background-color: hsla(0, 0%, 0%, 0.6);"></div>
            {% if bucket.quantity == 0 %}
                <div class="position-absolute top-0 end-0"><i id="refill-button-{{bucket.id}}" class="bi bi-arrow-clockwise text-white m-1"></i></form></div>
            {% endif %}
        </div>
        <p>{{bucket}}</p>
    </div>
    {% endfor %}
    </div>
{% endblock %}

{% block scripts %}
    {{block.super}}
    <script src="{% static 'icecreams/js/icecreambucket_list.js' %}"></script>
{% endblock %}